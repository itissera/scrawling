apply plugin: 'scala'
apply plugin: 'idea'

archivesBaseName = 'scrawlding'

repositories {
  mavenLocal()
  mavenCentral()
  mavenRepo name: 'conjars', url: 'http://conjars.org/repo/'
}

ext.cascadingVersion = '2.1.6'
ext.hadoopVersion = '1.1.2'

dependencies {
  
  scalaTools 'org.scala-lang:scala-compiler:2.9.2'
  compile 'org.scala-lang:scala-library:2.9.2'
  compile 'bixo:bixo-core:0.9.1'
  compile 'org.testng:testng:6.8.7'
  testCompile  'org.scala-tools.testing:specs:1.6.2.2_1.5.0'

  
  compile( 'com.twitter:scalding_2.9.2:0.8.1' )

  //compile fileTree( dir: 'lib', includes: ['*.jar'] )

  compile( group: 'cascading', name: 'cascading-core', version: cascadingVersion )
  compile( group: 'cascading', name: 'cascading-hadoop', version: cascadingVersion )
}

idea {
    project {
        jdkName = '1.6'
        languageLevel = '1.6'
    }
}
test {
    useTestNG()
}

jar {
  description = "Assembles a Hadoop-ready JAR file"
  doFirst {
    into( 'lib' ) {
      from configurations.compile
    }
  }

  manifest {
    attributes( "Main-Class": "org.scrawlding.Tool" )
  }
}